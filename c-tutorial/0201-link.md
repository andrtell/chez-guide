[Up]() [Prev](./0105-greet.md) [Next]()

----

```c
// lib.c

#include <unistd.h>
#include <string.h>

void callMe(char *s) {
  write(1, s, strlen(s));
}
```

```c
// main.c
extern void callMe(char *);

int main() {
  static char string[] = "Hello, world!\n";
  callMe(string);
}
```

```
$ cc -c main.c -o main.o
```

```
$ objdump -S -j .text -j .data main.o

Disassembly of section .text:

0000000000000000 <main>:
   0:	f3 0f 1e fa          	endbr64
   4:	55                   	push   %rbp
   5:	48 89 e5             	mov    %rsp,%rbp
   8:	48 8d 05 00 00 00 00 	lea    0x0(%rip),%rax        # f <main+0xf>
   f:	48 89 c7             	mov    %rax,%rdi
  12:	e8 00 00 00 00       	call   17 <main+0x17>
  17:	b8 00 00 00 00       	mov    $0x0,%eax
  1c:	5d                   	pop    %rbp
  1d:	c3                   	ret

Disassembly of section .data:

0000000000000000 <string>:
   0:	48 65 6c 6c 6f 2c 20 77 6f 72 6c 64 21 0a 00        Hello, world!..
```

```
$ cc lib.c main.o -o main
```

```
$ objdump -S -j .text -j .data main

Disassembly of section .text:

...more...

0000000000001169 <callMe>:
    1169:	f3 0f 1e fa          	endbr64
    116d:	55                   	push   %rbp
    116e:	48 89 e5             	mov    %rsp,%rbp
    1171:	48 83 ec 10          	sub    $0x10,%rsp
    1175:	48 89 7d f8          	mov    %rdi,-0x8(%rbp)
    1179:	48 8b 45 f8          	mov    -0x8(%rbp),%rax
    117d:	48 89 c7             	mov    %rax,%rdi
    1180:	e8 eb fe ff ff       	call   1070 <strlen@plt>
    1185:	48 89 c2             	mov    %rax,%rdx
    1188:	48 8b 45 f8          	mov    -0x8(%rbp),%rax
    118c:	48 89 c6             	mov    %rax,%rsi
    118f:	bf 01 00 00 00       	mov    $0x1,%edi
    1194:	e8 c7 fe ff ff       	call   1060 <write@plt>
    1199:	90                   	nop
    119a:	c9                   	leave
    119b:	c3                   	ret

000000000000119c <main>:
    119c:	f3 0f 1e fa          	endbr64
    11a0:	55                   	push   %rbp
    11a1:	48 89 e5             	mov    %rsp,%rbp
    11a4:	48 8d 05 65 2e 00 00 	lea    0x2e65(%rip),%rax        # 4010 <string>
    11ab:	48 89 c7             	mov    %rax,%rdi
    11ae:	e8 b6 ff ff ff       	call   1169 <callMe>
    11b3:	b8 00 00 00 00       	mov    $0x0,%eax
    11b8:	5d                   	pop    %rbp
    11b9:	c3                   	ret

Disassembly of section .data:

...more...

0000000000004010 <string>:
    4010:	48 65 6c 6c 6f 2c 20 77 6f 72 6c 64 21 0a 00        Hello, world!..
```
